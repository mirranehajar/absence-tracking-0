<div class='app'>
  <div class='app-calendar' *ngIf="calendarVisible">
    <full-calendar
      #calendar
      defaultView="dayGridMonth"
      [header]="{
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
      }"
      timeZone="local"
      [plugins]="calendarPlugins"
      editable="true"
      eventLimit="true"
      [weekends]="calendarWeekends"
      [events]="calendarEvents"
      (dateClick)="showBasicDialog($event)"
      (eventClick)="showBasicDialog2($event)">
    </full-calendar>
    <p-dialog  header="Ajout d'une séance" [(visible)]="displayBasic" [style]="{width: '50vw'}" [baseZIndex]="10000">
      <form style="text-align: center" method="POST" >
        <div style="display:inline-block" class="form-group">
          <div class="row">
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
              <input type="texte" name="libelle" placeholder="Titre" [(ngModel)]="session.libelle">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
              <input type="number" name="durée" placeholder="La durée de la séance (Min)" [(ngModel)]="period">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
              <p-dropdown name="typeSession" [options]="typeSessions" [(ngModel)]="session.typeSession" placeholder="Choisir type de la séance" optionLabel="reference"></p-dropdown>
            </div>
          </div>
        </div>
        <br>
        <p-footer>
          <button (click)="save()" type="submit" pButton icon="pi pi-check" style="float: left"  label="Enregistrer"></button>
        </p-footer>
      </form>
    </p-dialog>
    <p-dialog  header="Affichage d'une séance" [(visible)]="displayBasic2" [style]="{width: '50vw'}" [baseZIndex]="10000">
      <form style="text-align: center" method="POST" >
        <div style="display:inline-block" class="form-group">
          <div class="row">
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
              <input type="texte" name="reference" disabled [(ngModel)]="sessionFounded.reference">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
              <input type="texte" name="libelle" disabled [(ngModel)]="sessionFounded.libelle">
            </div>
          </div>
          <br>
          <div class="row">
            <div class="ui-inputgroup">
              <span class="ui-inputgroup-addon"><i class="pi pi-user" style="line-height: 1.25;"></i></span>
              <input type="texte" name="typeSession" disabled [(ngModel)]="sessionFounded.typeSession.reference">
            </div>
          </div>
        </div>
        <br>
        <p-footer>
          <button style="float: right" (click)="deleteByReference(sessionFounded)" type="button" class="ui-button-danger" pButton icon="pi pi-check"   label="Supprimer"></button>
          <button style="float: left" routerLink="/absence" type="button"  pButton icon="pi pi-check"   label="Noter l'absence"></button>
        </p-footer>
      </form>
    </p-dialog>
  </div>
</div>
